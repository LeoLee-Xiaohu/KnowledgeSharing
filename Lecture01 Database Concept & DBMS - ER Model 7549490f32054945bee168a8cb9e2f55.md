# Lecture01 Database Concept & DBMS - ER Model

- 1. 课程要求
    - 按时完成作业，以及项目
    - 下课知识点补充，基础知识需要自己去完善
    - 有问题，大胆问老师
    - 老师反复强调的，需要引起重视
    - 及时向老师以及匠人反馈上课状况，及时作出调整
    - do not overconfidence
- 2. Data Engineer 课程前准备及课程设计
    - 0.课程介绍
        - 
            
            ![https://api2.mubu.com/v3/document_image/6d30afce-695b-4c0a-9af2-32d630001e84-14086676.jpg](https://api2.mubu.com/v3/document_image/6d30afce-695b-4c0a-9af2-32d630001e84-14086676.jpg)
            
    - 1.涉及技术
        - 
            
            ![https://api2.mubu.com/v3/document_image/5d9a5e55-dd63-45ce-a257-6bbdb3dd8e54-14086676.jpg](https://api2.mubu.com/v3/document_image/5d9a5e55-dd63-45ce-a257-6bbdb3dd8e54-14086676.jpg)
            
    - 2.三个项目 （第10期）
        - 1. 数据仓库搭建项目 -Muchao 老师
            - 
                
                ![https://api2.mubu.com/v3/document_image/d18191b1-c86a-4ddd-abef-9026927f3d32-14086676.jpg](https://api2.mubu.com/v3/document_image/d18191b1-c86a-4ddd-abef-9026927f3d32-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/9d58f1aa-5c94-40ae-aa05-c3e9333c74e6-14086676.jpg](https://api2.mubu.com/v3/document_image/9d58f1aa-5c94-40ae-aa05-c3e9333c74e6-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/c2b802ce-8388-482a-bfcd-b4dfdbd7792b-14086676.jpg](https://api2.mubu.com/v3/document_image/c2b802ce-8388-482a-bfcd-b4dfdbd7792b-14086676.jpg)
                
        - 2. 三百万零售项目--leo 老师
            - 
                
                ![https://api2.mubu.com/v3/document_image/2573a809-1919-484b-9229-dd66a8098fe1-14086676.jpg](https://api2.mubu.com/v3/document_image/2573a809-1919-484b-9229-dd66a8098fe1-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/f53c7339-a969-4d6b-97bc-8ce453221661-14086676.jpg](https://api2.mubu.com/v3/document_image/f53c7339-a969-4d6b-97bc-8ce453221661-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/c90a0458-3948-47c2-bffa-c75b4569e86a-14086676.jpg](https://api2.mubu.com/v3/document_image/c90a0458-3948-47c2-bffa-c75b4569e86a-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/a8484123-60cd-465d-b133-d119a60f1305-14086676.jpg](https://api2.mubu.com/v3/document_image/a8484123-60cd-465d-b133-d119a60f1305-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/d91f5d87-c14e-4aad-99bc-3f9d53e6f99c-14086676.jpg](https://api2.mubu.com/v3/document_image/d91f5d87-c14e-4aad-99bc-3f9d53e6f99c-14086676.jpg)
                
        - 3. 可选项目
            - 1. 昆士兰交通事故预测
                
                ![https://api2.mubu.com/v3/document_image/b919dd19-c2d0-4a4e-bcc2-2cb89d517e73-14086676.jpg](https://api2.mubu.com/v3/document_image/b919dd19-c2d0-4a4e-bcc2-2cb89d517e73-14086676.jpg)
                
            - 2. 北美银行用户行为预测
                
                ![https://api2.mubu.com/v3/document_image/bb8438ed-2a45-4295-8ad1-f142b760d971-14086676.jpg](https://api2.mubu.com/v3/document_image/bb8438ed-2a45-4295-8ad1-f142b760d971-14086676.jpg)
                
            - 3.牛小匠大学课表爬虫项目
                
                ![https://api2.mubu.com/v3/document_image/716d4821-dd49-4a78-b555-76e79faf69e2-14086676.jpg](https://api2.mubu.com/v3/document_image/716d4821-dd49-4a78-b555-76e79faf69e2-14086676.jpg)
                
    - 3. 什么是Data Engineering？
        - 
            
            ![https://api2.mubu.com/v3/document_image/dd7739e4-89eb-489d-b0bd-0529c51a80ab-14086676.jpg](https://api2.mubu.com/v3/document_image/dd7739e4-89eb-489d-b0bd-0529c51a80ab-14086676.jpg)
            
    - 4. what DE do？
        - 
            
            ![https://api2.mubu.com/v3/document_image/883d95db-f271-456b-bec5-98e96a92ea01-14086676.jpg](https://api2.mubu.com/v3/document_image/883d95db-f271-456b-bec5-98e96a92ea01-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/689ba5e5-92d8-4734-8526-6358f25523b6-14086676.jpg](https://api2.mubu.com/v3/document_image/689ba5e5-92d8-4734-8526-6358f25523b6-14086676.jpg)
            
    - 5. 实习
        - 
            
            ![https://api2.mubu.com/v3/document_image/af2e32f1-4eef-49a1-a353-d3b4245acb55-14086676.jpg](https://api2.mubu.com/v3/document_image/af2e32f1-4eef-49a1-a353-d3b4245acb55-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/42ea527c-000b-42ef-8015-699348d032dd-14086676.jpg](https://api2.mubu.com/v3/document_image/42ea527c-000b-42ef-8015-699348d032dd-14086676.jpg)
            
    - 6. 数据工程知识路径
        - 
            
            ![https://api2.mubu.com/v3/document_image/f053730e-b3e0-4b32-ac5f-58a0c7a736a5-14086676.jpg](https://api2.mubu.com/v3/document_image/f053730e-b3e0-4b32-ac5f-58a0c7a736a5-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/c761b02b-d479-44e0-87ed-54d4618afdc0-14086676.jpg](https://api2.mubu.com/v3/document_image/c761b02b-d479-44e0-87ed-54d4618afdc0-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/8d3fab3d-5b34-4e4d-a200-cf414df47408-14086676.jpg](https://api2.mubu.com/v3/document_image/8d3fab3d-5b34-4e4d-a200-cf414df47408-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/1eb76698-e13c-4ab3-92b2-4cf3dca533ce-14086676.jpg](https://api2.mubu.com/v3/document_image/1eb76698-e13c-4ab3-92b2-4cf3dca533ce-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/a4a141c6-a8e8-4bda-b416-462bf3e362f3-14086676.jpg](https://api2.mubu.com/v3/document_image/a4a141c6-a8e8-4bda-b416-462bf3e362f3-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/e3de1637-4e57-4c85-a358-514fe0e0e2de-14086676.jpg](https://api2.mubu.com/v3/document_image/e3de1637-4e57-4c85-a358-514fe0e0e2de-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/7b43f8d2-8f58-4837-a47b-3259d17a0af6-14086676.jpg](https://api2.mubu.com/v3/document_image/7b43f8d2-8f58-4837-a47b-3259d17a0af6-14086676.jpg)
            
            ![https://api2.mubu.com/v3/document_image/ccd7dfdb-a2f0-4d64-b9bb-1c8f72b201bc-14086676.jpg](https://api2.mubu.com/v3/document_image/ccd7dfdb-a2f0-4d64-b9bb-1c8f72b201bc-14086676.jpg)
            
- 3. DE 发展历史
    - 1. 1970s, RDBMS、ERD、SQL诞生
    - 2. 1980s, Database（包括DB2、Oracle ）、Data warehouse & Kimball approach、partitioning 诞生
        - 这里要注意一下 ACID 原则（第九期讲过面试可能会遇到）
            - ：a standard set of properties that guarantee database transactions are processed reliably.
            - Atomicity
                - The entire sequence of actions must be either completed or aborted. The transaction cannot be partially successful.
                - 只有两种状态，要么完成，要么没完成，不可能出现完成80%，70%这样的值
            - Consistency
                - The transaction takes the resources from one consistent state to another.
            - Integrity or Isolation
                - A transaction's effect is not visible to other transactions until the transaction is committed.
            - Durability
                - Changes made by the committed transaction are permanent and must survive system failure.
    - 3. 1990s, 各种Database（ eg.MySQL、PostgreSQL等等）ETL及ETL tool出现
    - 4. 2000s, NoSQL、Big Data（Hadoop & Apache）
        - CAP 理论模型
            - 在计算机科学理论，CAP 定理（也称为 Brewer 定理），是由计算机科学家 Eric Brewer 提出的，即在分布式计算机系统不可能同时提供以下全部三个保证：
                - 一致性（Consistency）：所有节点同一时间看到是相同的数据；
                - 可用性（Availability）：不管是否成功，确保每一个请求都能接收到响应；
                - 分区容错性（Partition tolerance）：系统任意分区后，在网络故障时，仍能操作
            - CAP 只能三选二
            - CAP知识延伸：[https://www.youtube.com/watch?v=eWMgsk7mpFc](https://www.youtube.com/watch?v=eWMgsk7mpFc)
    - 5. 2010s，Cloud computing 、data lake、MPP、data orchestration/pipelines、Lambda architecture
    - Summary
        - 
            
            ![https://api2.mubu.com/v3/document_image/df96aba2-b5e5-4b1e-a48d-a1c25c933d40-14086676.jpg](https://api2.mubu.com/v3/document_image/df96aba2-b5e5-4b1e-a48d-a1c25c933d40-14086676.jpg)
            
- 4. data modelling
    - 0.data modelling 的过程主要是Normalization 画 diagram （包括star schema、Snowflake schema diagram 等等）的过程
    - 1. Data Models Component
        - 1. A Diagram
        - 2. A data dictionary
    - 2. why model?
        - 1. 比建real thing便宜
        - 2. Document and describe either (plans and blueprints) an existing system or a design for proposed system
        - 3. 表达和传递商业需求非常有效
    - 3. Draw diagram 的 steps :
        - 1. identify all entities and put them on paper
            - 
                
                ![https://api2.mubu.com/v3/document_image/005f388b-a32b-499f-adfc-c1b3a544fbdf-14086676.jpg](https://api2.mubu.com/v3/document_image/005f388b-a32b-499f-adfc-c1b3a544fbdf-14086676.jpg)
                
        - 2. identify all relationships
            - 
                
                ![https://api2.mubu.com/v3/document_image/77f46a93-67c7-4ac3-a375-7cb569c73c7a-14086676.jpg](https://api2.mubu.com/v3/document_image/77f46a93-67c7-4ac3-a375-7cb569c73c7a-14086676.jpg)
                
        - 3. determine cardinality(基数） for each
            - 基数 Cardinality 指的是一个列中不同值的个数。比如学校学生管理表里，学生学号唯一不同，但是学生性别值很少，男、女、未知.
            - 有三种方式：1对1, 1对多，多对多。
                
                ![https://api2.mubu.com/v3/document_image/9c2c8114-b90c-4ace-a375-c086871d0ecf-14086676.jpg](https://api2.mubu.com/v3/document_image/9c2c8114-b90c-4ace-a375-c086871d0ecf-14086676.jpg)
                
        - 4. determine optionality（可选性） for each
            - 课外延伸：[https://vertabelo.com/blog/cardinality-in-data-modeling/#:~:text=Optionality%20represents%20whether%20an%20entity,Consult%2DDoctor%20relationship%20is%20mandatory.](https://vertabelo.com/blog/cardinality-in-data-modeling/#:~:text=Optionality%20represents%20whether%20an%20entity,Consult%2DDoctor%20relationship%20is%20mandatory.)
                
                ![https://api2.mubu.com/v3/document_image/a5f39d0d-c0bc-457d-a711-9ce3884faa4c-14086676.jpg](https://api2.mubu.com/v3/document_image/a5f39d0d-c0bc-457d-a711-9ce3884faa4c-14086676.jpg)
                
        - 5. label all relationships
            - 
                
                ![https://api2.mubu.com/v3/document_image/9677e24b-46dc-4987-b350-aeb464bf8158-14086676.jpg](https://api2.mubu.com/v3/document_image/9677e24b-46dc-4987-b350-aeb464bf8158-14086676.jpg)
                
        - 6. tidy up( adding attributes and data dictionary )
            - 
                
                ![https://api2.mubu.com/v3/document_image/f86a4368-63fe-45ac-97fc-2523ddfe6c61-14086676.jpg](https://api2.mubu.com/v3/document_image/f86a4368-63fe-45ac-97fc-2523ddfe6c61-14086676.jpg)
                
    - 4. Normalization
        - 0. normalization是一个保证模型尽可能有效，并且不产生数据错误的一个过程。在此之前我们必须保证正确地identified all PK，正确地included all foreign keys。
            - 案例
                
                ![https://api2.mubu.com/v3/document_image/3729cbcc-029a-449b-b7ad-3f906f2ccca9-14086676.jpg](https://api2.mubu.com/v3/document_image/3729cbcc-029a-449b-b7ad-3f906f2ccca9-14086676.jpg)
                
        - NF 1:
            - objective: identify the primary key
                
                ![https://api2.mubu.com/v3/document_image/f113db8f-d1c3-4b0f-a6d3-2fac14d0f89f-14086676.jpg](https://api2.mubu.com/v3/document_image/f113db8f-d1c3-4b0f-a6d3-2fac14d0f89f-14086676.jpg)
                
            - 案例： 1.NF1 将重复的组去掉；2. identify the primary key；3. identify all dependencies
                
                ![https://api2.mubu.com/v3/document_image/5ac6fe0e-15b6-4fd6-bc63-f0832441c76b-14086676.jpg](https://api2.mubu.com/v3/document_image/5ac6fe0e-15b6-4fd6-bc63-f0832441c76b-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/0f7f4fed-050c-4dc9-9d6a-2a1b94935aee-14086676.jpg](https://api2.mubu.com/v3/document_image/0f7f4fed-050c-4dc9-9d6a-2a1b94935aee-14086676.jpg)
                
        - NF 2:
            - objective: eliminate partical dependencies
                
                ![https://api2.mubu.com/v3/document_image/1f5f7634-6619-4674-9089-5b4860d494d5-14086676.jpg](https://api2.mubu.com/v3/document_image/1f5f7634-6619-4674-9089-5b4860d494d5-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/afe28e9e-4a4c-4b40-abfb-495f7a620cf2-14086676.jpg](https://api2.mubu.com/v3/document_image/afe28e9e-4a4c-4b40-abfb-495f7a620cf2-14086676.jpg)
                
        - NF 3:
            - objective: eliminate transitive dependencies
                
                ![https://api2.mubu.com/v3/document_image/f5df1132-14a8-4686-bbe3-c968cb5930d9-14086676.jpg](https://api2.mubu.com/v3/document_image/f5df1132-14a8-4686-bbe3-c968cb5930d9-14086676.jpg)
                
                ![https://api2.mubu.com/v3/document_image/a9362f74-c130-461d-9149-f4a974b1a1e0-14086676.jpg](https://api2.mubu.com/v3/document_image/a9362f74-c130-461d-9149-f4a974b1a1e0-14086676.jpg)
                
        - Normalization 完后的最终model
            - 
                
                ![https://api2.mubu.com/v3/document_image/254d57a1-f0ec-4e3d-9d51-b92c39a9886c-14086676.jpg](https://api2.mubu.com/v3/document_image/254d57a1-f0ec-4e3d-9d51-b92c39a9886c-14086676.jpg)
                
        - Summary
            - 
                
                ![https://api2.mubu.com/v3/document_image/871eb356-9a69-46b0-8a9c-2beab19e6c39-14086676.jpg](https://api2.mubu.com/v3/document_image/871eb356-9a69-46b0-8a9c-2beab19e6c39-14086676.jpg)